# ğŸ¬ ë°•ìŠ¤ì˜¤í”¼ìŠ¤ _ ì›°ë‹¤ë¹„ğŸ¿ğŸ¥¤

## ğŸ“– ëª©ì°¨
ğŸ€ [ì†Œê°œ](#ì†Œê°œ) </br>
ğŸ‘¨â€ğŸ’» [íŒ€ì›](#íŒ€ì›) </br>
â±ï¸ [íƒ€ì„ë¼ì¸](#íƒ€ì„ë¼ì¸) </br>
ğŸ‘€ [ì‹œê°í™”ëœ í”„ë¡œì íŠ¸ êµ¬ì¡°](#ì‹œê°í™”ëœ_í”„ë¡œì íŠ¸_êµ¬ì¡°) </br>
ğŸ’» [ì‹¤í–‰ í™”ë©´](#ì‹¤í–‰_í™”ë©´) </br>
â›‘ï¸ [í•µì‹¬ ê²½í—˜](#í•µì‹¬_ê²½í—˜) </br>
ğŸ§¨ [íŠ¸ëŸ¬ë¸” ìŠˆíŒ…](#íŠ¸ëŸ¬ë¸”_ìŠˆíŒ…) </br>
ğŸ“š [ì°¸ê³  ë§í¬](#ì°¸ê³ _ë§í¬) </br>

</br>

## ğŸ€ ì†Œê°œ<a id="ì†Œê°œ"></a>
`Whales`ê³¼ `Dasan`ì´ ë§Œë“  ë°•ìŠ¤ì˜¤í”¼ìŠ¤ì…ë‹ˆë‹¤.
ì˜í™”ì§„í¥ìœ„ì›íšŒì˜ Open APIë¥¼ ì´ìš©í•˜ì—¬ ì¼ë³„ ë°•ìŠ¤ì˜¤í”¼ìŠ¤ ì •ë³´ì™€ ì˜í™” ìƒì„¸ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

</br>

## ğŸ‘¨â€ğŸ’» íŒ€ì›<a id="íŒ€ì›"></a>
| ğŸ¬WhalesğŸ¬ | ğŸŒ³DasanğŸŒ³ |
| :--------: | :--------: |
| <Img src = "https://github.com/WhalesJin/FireSaturdayStudyClassC/assets/124643545/e4e33a5d-f56c-4a3d-80b5-484ab3c62f27" width="200"> | <Img src = "https://user-images.githubusercontent.com/106504779/253477235-ca103b42-8938-447f-9381-29d0bcf55cac.jpeg" width="200"> |
|[Github Profile](https://github.com/WhalesJin) |[Github Profile](https://github.com/DasanKim) |

</br>

## â±ï¸ íƒ€ì„ë¼ì¸<a id="íƒ€ì„ë¼ì¸"></a>
|ë‚ ì§œ|ë‚´ìš©|
|:--:|--|
|2023.07.24(ì›”)| - [ì˜í™”ì§„í¥ìœ„ì›íšŒì˜ ì¼ë³„ ë°•ìŠ¤ì˜¤í”¼ìŠ¤ API ë¬¸ì„œ](https://www.kobis.or.kr/kobisopenapi/homepg/apiservice/searchServiceInfo.do?serviceId=searchDailyBoxOffice)ì˜ ë°ì´í„° í˜•ì‹ì„ ê³ ë ¤í•œ ëª¨ë¸ íƒ€ì… ì„¤ê³„ |
|2023.07.25(í™”)| - `BoxOffic`, `BoxOfficeData`, `DailyBoxOfficeResult` íƒ€ì… ìƒì„± <br> - `DecodingManager`, `DataError` íƒ€ì… ìƒì„± ë° êµ¬í˜„ <br> - `DecodingManager`ì— ëŒ€í•œ Unit Test ì§„í–‰ <br> - íŒŒì¼ ê·¸ë£¹í™”|
|2023.07.26(ìˆ˜)| - **Test Plan Reference** ì˜¤ë¥˜ ìˆ˜ì • <br> - [URLSession](https://developer.apple.com/documentation/foundation/urlsession) ê³µë¶€ |
|2023.07.27(ëª©)| - `Movie`, `MovieInformationResult`, `MovieInformation` íƒ€ì… ìƒì„± <br> - ê°ê°ì˜ ê´€ë ¨ íƒ€ì…ë“¤ `BoxOffice`, `Movie` íŒŒì¼ë¡œ **ë³‘í•©** <br> - `NetworkManager` íƒ€ì… ìƒì„± ë° êµ¬í˜„|
|2023.07.28(ê¸ˆ)| - `Movie` íƒ€ì… ì˜¤ë¥˜ ìˆ˜ì • <br> - `fetchData`ë§¤ì„œë“œì— `completionHandler` ì¶”ê°€ <br> - README ì‘ì„±|
|2023.07.31(ì›”)| - ë„¤íŠ¸ì›Œí¬ ê´€ë ¨ ì—ëŸ¬ `Result` íƒ€ì…ìœ¼ë¡œ ìˆ˜ì • <br> -`Utility`, `Error` ê·¸ë£¹ ìƒì„± ë° ê·¸ë£¹í™” <br> - í”¼ë“œë°± ë°˜ì˜| 
|2023.08.01(í™”)| - plistë¥¼ í™œìš©í•˜ì—¬ githubì—ì„œ API keyê°’ì´ ë³´ì´ì§€ ì•Šë„ë¡ ìˆ˜ì • <br> - `Resource` ê·¸ë£¹ ìƒì„± ë° ê·¸ë£¹í™”|
|2023.08.02(ìˆ˜)| - `os log` ë©”ì„œë“œ í™œìš© ë° ì „ì²´ì ì¸ ë¦¬í™í† ë§ |
|2023.08.03(ëª©)| - [Modern cell configuration](https://developer.apple.com/videos/play/wwdc2020/10027/), [Lists in UICollectionView](https://developer.apple.com/videos/play/wwdc2020/10026) ê³µë¶€ <br> - ì²«ë²ˆì§¸ í˜ì´ì§€ UI ì„¤ê³„ |
|2023.08.04(ê¸ˆ)| - README ì‘ì„± <br> - ê°œë°œ íƒ€ê²Ÿ ë²„ì „ `iOS 14` ì´ìƒìœ¼ë¡œ ìˆ˜ì • <br> - `Modern Collection View`ë¥¼ í™œìš©í•œ UI êµ¬í˜„|
|2023.08.07(ì›”)| - `TargetDate` íƒ€ì… ìƒì„± <br> - `UIActivityIndicatorView`, `RefreshControl`ë¥¼ í™œìš©í•œ ë¡œë”© í™”ë©´ êµ¬í˜„ <br> - `BoxOfficeManager` íƒ€ì… ìƒì„±|
|2023.08.08(í™”)| - `Dynamic Type` ì ìš© <br> - `ConstraintsNamespace` ì¶”ê°€ ë° ì ìš© <br> - ì „ì²´ì ì¸ ë¦¬í™í† ë§ |
|2023.08.09(ìˆ˜)| - `Kakao REST API` íƒ€ì… ì„¤ê³„ |
|2023.08.10(ëª©)| - ì˜í™” ìƒì„¸ í˜ì´ì§€ UI ì„¤ê³„ |
|2023.08.11(ê¸ˆ)| - í”¼ë“œë°± ë°˜ì˜ ë° ìˆ˜ì • <br> - README ì‘ì„± |

</br>

## ğŸ‘€ ì‹œê°í™”ëœ í”„ë¡œì íŠ¸ êµ¬ì¡°<a id="ì‹œê°í™”ëœ_í”„ë¡œì íŠ¸_êµ¬ì¡°"></a>

### â„¹ï¸ File Tree
    â”Œâ”€â”€ BoxOffice
    â”‚Â Â  â”œâ”€â”€ BoxOffice
    â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Application
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ AppDelegate
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ SceneDelegate
    â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Utility
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ DecodingManager
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ NetworkManager
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ URL+
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ TargetDate
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ CountFormatter
    â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Model
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ BoxOffice
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Movie
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ URLConfigurable
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ KobisOpenAPI
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Bundle+
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ BoxOfficeManager
    â”‚Â Â  â”‚Â Â  â”œâ”€â”€ View
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Main
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ LaunchScreen
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ BoxOfficeCell
    â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Controller
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ BoxOfficeViewController
    â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Namespace
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ConstraintsNamespace
    â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Error
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ DataError
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ NetworkError
    â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Resource
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Assets
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Info
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ KobisAPIKey
    â”‚Â Â  â””â”€â”€ BoxOfficeTests
    â”‚Â Â   Â Â  â””â”€â”€ DecodingManagerTests
    â”‚Â Â   Â Â   Â Â  â””â”€â”€ DecodingManagerTests
    â””â”€â”€ README
</br>

### ğŸ“ Diagram

- Model<br>
    <img width = "450" src = "https://hackmd.io/_uploads/SkjAuGcon.png"> <br>

- View & Controller<br>
    <img width = "700" src = "https://hackmd.io/_uploads/SJ02gv7nn.png"> <br>

- <details> 
      <summary> View & Utility </summary>
  <img width = "250" src = "https://hackmd.io/_uploads/BygtbwQh3.png">
  </details>

- <details> 
      <summary> Controller & Utility </summary>
  <img width = "700" src = "https://hackmd.io/_uploads/H1dEWwXhn.png">
  </details>

- <details> 
      <summary> Model - DTO </summary>
  <img width = "550" src = "https://hackmd.io/_uploads/SkPRdzqo2.png">
  </details>

- <details> 
      <summary> Error & Utility </summary>
  <img width = "450" src = "https://hackmd.io/_uploads/HJy0uG9j2.png">
  </details>

</br>

## ğŸ’» ì‹¤í–‰ í™”ë©´<a id="ì‹¤í–‰_í™”ë©´"></a>


| ì•± ì‹œì‘ì‹œ ë¡œë”© | 12ì‹œ ìƒˆë¡œê³ ì¹¨(ë‚ ì§œë³€ê²½) |
| :--------: | :--------: |
| <img src = "https://hackmd.io/_uploads/HyffIP73h.gif" width = "250"> | <img src = "https://hackmd.io/_uploads/B1TbrPXh3.gif" width = "250"> |

</br>


## â›‘ï¸ í•µì‹¬ ê²½í—˜<a id="í•µì‹¬_ê²½í—˜"></a>

### Unit Testì˜ XCTAssertThrowsError
- `DecodingManager` íƒ€ì…ì˜ decodeJSON`ë©”ì„œë“œ`ë¥¼ í…ŒìŠ¤íŠ¸í•˜ì—¬, **decoding ë° parsing**ì´ ì˜ ì´ë£¨ì–´ì§€ê³  ìˆëŠ”ì§€ë¥¼ í™•ì¸í•˜ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤.
- Tests ë‚´ì—ì„œ `XCTAssertThrowsError`, `XCTAssertNoThrow` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒí™©ì— ë§ê²Œ ì˜¤ë¥˜ë¥¼ ì˜ ë˜ì§€ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤.
 
<details>
    <summary> ì½”ë“œ </summary>
    
```swift
//DecodingManagerTests.swfit

func test_ì¼ì¹˜í•˜ëŠ”_dataAssetì´ì—†ì„ë•Œ_notFoundAssetì—ëŸ¬ë¥¼_ë˜ì§„ë‹¤() {
    //given
    let fileName = "ì—†ëŠ”íŒŒì¼ì´ë¦„"

    //when, then
    XCTAssertThrowsError(try sut.decodeJSON(fileName: fileName) as BoxOffice) { error in
        XCTAssertEqual(error as! DataError, DataError.notFoundAsset)
    }
}
    
func test_ì¼ì¹˜í•˜ëŠ”_dataAssetê°€ìˆì„ë•Œ_notFoundAssetì—ëŸ¬ë¥¼_ë˜ì§€ì§€ì•ŠëŠ”ë‹¤() {
    //given
    let fileName = "box_office_sample"

    //when, then
    XCTAssertNoThrow(try sut.decodeJSON(fileName: fileName) as BoxOffice)
}
```
</details>

### Modern Collection Veiw í™œìš©
- Modern Collection Viewë¥¼ í™œìš©í•˜ì—¬ `list Layout`ì„ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
- ë˜í•œ `NSDiffableDataSourceSnapshot` ë° `UICollectionViewDiffableDataSource`ë¥¼ í™œìš©í•˜ì—¬ collection View ë‚´ì˜ Dataë¥¼ ì—…ë°ì´íŠ¸í•˜ì˜€ìŠµë‹ˆë‹¤.

<details>
    <summary> ì½”ë“œ </summary>
    
```swift
// BoxOfficeViewController.swfit

extension BoxOfficeViewController {
    private func createLayout() -> UICollectionViewLayout {
        let configuration = UICollectionLayoutListConfiguration(appearance: .plain)

        return UICollectionViewCompositionalLayout.list(using: configuration)
    }

    (...)

    private func configureDataSource() {
        (...)
        dataSource = UICollectionViewDiffableDataSource <Section, BoxOfficeData>(collectionView: collectionView) {
            (collectionView: UICollectionView, indexPath: IndexPath, identifier: BoxOfficeData) -> UICollectionViewListCell? in
            return collectionView.dequeueConfiguredReusableCell(using: cellRegistration, for: indexPath, item: identifier)
        }

        applySnapshot()
    }

    private func applySnapshot() {
        var snapshot = NSDiffableDataSourceSnapshot<Section, BoxOfficeData >()
        snapshot.appendSections([.main])
        snapshot.appendItems(items)
        dataSource.apply(snapshot, animatingDifferences: true)
    }
    (...)
}
```
</details>

<br>

## ğŸ§¨ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…<a id="íŠ¸ëŸ¬ë¸”_ìŠˆíŒ…"></a>

### 1ï¸âƒ£ Test Plan Reference ì˜¤ë¥˜
`DecodingManager` íƒ€ì…ì— ëŒ€í•œ Unit Testì„ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤. í›„ì— ì¶”í›„ ì¶”ê°€ë  Testë“¤ì„ ìƒê°í•˜ì—¬ `BoxOfficeTests`ë¼ëŠ” ìƒìœ„ í´ë”ë¥¼ ìƒì„±í•˜ê³ , `DecodingManagerTests` í´ë” ë° `BoxOffice.xctestplan` íŒŒì¼ì„ `BoxOfficeTests` í´ë”ì— ë„£ì–´ì£¼ì—ˆìŠµë‹ˆë‹¤.

    â””â”€â”€ BoxOfficeTests
        â”œâ”€â”€ BoxOffice.xctestplan
        â””â”€â”€ DecodingManagerTests
            â””â”€â”€ DecodingManagerTests.swift

ğŸš¨ **ë¬¸ì œì ** <br>

- í´ë” ë° íŒŒì¼ë“¤ì„ `BoxOfficeTests`ë¡œ ì´ë™í•œ í›„ë¶€í„°, ì•„ë˜ì™€ ê°™ì€ ë©”ì‹œì§€ì°½ì´ ëœ¨ë©° Unit Testê°€ ì‹¤í–‰ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
   - error ë©”ì‹œì§€
   <img src="https://github-production-user-asset-6210df.s3.amazonaws.com/124643545/256756273-ba5fd051-9faa-44dd-a94d-c553a6f1f220.png" width="400">

   - missingëœ DecodingManagerTests
   <img src="https://github-production-user-asset-6210df.s3.amazonaws.com/124643545/256756316-e934d064-053f-41d3-9ce4-8de7fd238d7b.png" width="400">

- ìœ„ì™€ ê°™ì€ ë¬¸ì œê°€ ìƒê¸´ ì´ìœ ëŠ” `Test Plan`ì˜ ìœ„ì¹˜ë¥¼ ì˜®ê¸¸ ë•Œ `BoxOffice` íƒ€ê²Ÿì— ëŒ€í•œ `Test Plan reference` ê²½ë¡œê°€ ë³€ê²½ë˜ì—ˆê¸° ë•Œë¬¸ì´ì—ˆìŠµë‹ˆë‹¤.

   <img src = "https://github-production-user-asset-6210df.s3.amazonaws.com/124643545/256756329-6f5c135a-60e7-4b0a-82c8-fed4ee89c675.png" width = "700">

ğŸ’¡ **í•´ê²°ë°©ë²•** <br>
- ì´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì—ëŠ” 2ê°€ì§€ê°€ ìˆì—ˆìŠµë‹ˆë‹¤:
    1. Test Planì˜ `configurations` ì„¤ì •
        - Test Plan > configurations > Target for Variable Expansion
        - Target for Variable Expansion ê°’ì„ noneìœ¼ë¡œ ë°”ê¾¸ì—ˆë‹¤ê°€ ë‹¤ì‹œ Appìœ¼ë¡œ ë³€ê²½
    2. ê¸°ì¡´ Test Plan ì‚­ì œ í›„ `ìƒˆë¡­ê²Œ ì¶”ê°€`
        - Product > Scheme > Edit scheme > Test
        - Test Plansì— ìˆëŠ” ê¸°ì¡´ BoxOffice Test Planì„ ì‚­ì œí•˜ê³ , ë‹¤ì‹œ add
    
        <img src = "https://hackmd.io/_uploads/SkvTsgRqh.png" width = "500">

- ì €í¬ëŠ” ì²«ë²ˆì§¸ ë°©ë²•ìœ¼ë¡œëŠ” í•´ê²°ì´ ë˜ì§€ ì•Šì•„, ë‘ë²ˆì§¸ ë°©ë²•ìœ¼ë¡œ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.

<br>

### 2ï¸âƒ£ API Key ìˆ¨ê¸°ê¸° 
ğŸš¨ **ë¬¸ì œì ** <br>
- ì²˜ìŒì—” `API key` ê°’ì„ ì•„ë˜ì™€ ê°™ì´ `KobisOpenAPI` ë‚´ key í”„ë¡œí¼í‹°ì— ë„£ì–´ì£¼ì—ˆìŠµë‹ˆë‹¤.
- `private` ì ‘ê·¼ì œì–´ë¥¼ í†µí•˜ì—¬ ì½”ë“œì ìœ¼ë¡œëŠ” ì™¸ë¶€ì—ì„œ í”„ë¡œí¼í‹°ì— ì ‘ê·¼í•˜ì§€ ëª»í•˜ë„ë¡í•´ì£¼ì—ˆì§€ë§Œ, gitì— ì˜¬ë ¸ì„ ë•Œ keyê°’ì´ **ê·¸ëŒ€ë¡œ ë…¸ì¶œë˜ëŠ” ë¬¸ì œ**ê°€ ë°œìƒë˜ì—ˆìŠµë‹ˆë‹¤.

```swift
// KobisOpenAPI.swift
enum KobisOpenAPI {
    case boxOffice(String)
    case movie(String)
}

extension KobisOpenAPI: API {
    (...)
    private var key: String {
        return "fb92260b76d9959bbf3ab69c991d8985"
    }
    (...)
}
```

ğŸ’¡ **í•´ê²°ë°©ë²•** <br>
- API Keyë¥¼ ì•„ë˜ì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ìˆ¨ê²¼ìŠµë‹ˆë‹¤.

    1. ìƒˆë¡œìš´ `plist`ë¥¼ ë§Œë“¤ì–´ KOBIS_API_KEYë¼ëŠ” ì´ë¦„ì˜ `Key`ì™€ KOBIS API KEY VALUEì˜ `Value`ë¥¼ ìƒì„±í›„, push í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.
    2. í›„ì— **ë”ì´ìƒ ìƒˆë¡œìš´ `plist`íŒŒì¼ì„ ì¶”ì í•˜ì§€ ëª»í•˜ë„ë¡** `.gitignore` íŒŒì¼ ë‚´ì— ìƒˆë¡œìš´ plist pathë¥¼ ì¶”ê°€í•´ì¤€ ë’¤ push í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.
    3. ë” ì´ìƒ ì¶”ì í•˜ì§€ ëª»í•˜ë„ë¡ í•œ ë’¤, `KOBIS API KEY VALUE`ë¡œ ì í˜€ìˆë˜ Valueì— `ì‹¤ì œ API Key`ë¥¼ ë„£ì–´ì£¼ì—ˆìŠµë‹ˆë‹¤.
    ![](https://hackmd.io/_uploads/S1qX7Xqjh.png)
<br>

### 3ï¸âƒ£ ì—­í•  ë¶„ë¦¬
ğŸš¨ **ë¬¸ì œì ** <br>
- í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ì•„ë˜ì™€ ê°™ì´ `ViewController`ê°€ ë¹„ëŒ€í•´ì¡Œê³ , ì´ëŠ” `ViewController`ê°€ ë§ì€ ì±…ì„ì„ ê°€ì§€ê²Œ í•˜ì˜€ìŠµë‹ˆë‹¤.(ë˜í•œ ë³¸ë˜ì˜ ì±…ì„ê³¼ëŠ” ë™ë–¨ì–´ì§„ ê¸°ëŠ¥ë“¤ë„ ê°€ì§€ê³  ìˆì—ˆìŠµë‹ˆë‹¤.)

    <details>
        <summary> ì½”ë“œ </summary>
    
    ```swift
    // BoxOfficeViewController.swift
    class BoxOfficeViewController: UIViewController {
        (...)

        override func viewDidLoad(){
            let networkManager = NetworkManager()

            networkManager.fetchData(url: KobisOpenAPI.boxOffice(targetDate: targetDate.formatNoSeparator()).url) { result in
                switch result {
                case .success(let data):
                    do {
                        let decodedData = try DecodingManager.decodeJSON(type: BoxOffice.self, data: data)
                        print(decodedData)

                        let boxOfficeItems = decodedData.boxOfficeResult.dailyBoxOfficeList

                        boxOfficeItems.forEach { item in
                            self.items.append(item)
                        }

                        (...)
                        self.dataSource.apply(snapshot, animatingDifferences: true)
                        self.stopActivityIndicator()
                    } catch DataError.notFoundAsset {
                        os_log("%{public}@", type: .default, DataError.notFoundAsset.localizedDescription)
                    } catch DataError.failedDecoding {
                        os_log("%{public}@", type: .default, DataError.failedDecoding.localizedDescription)
                    } catch {
                        os_log("ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ì…ë‹ˆë‹¤.", type: .default)
                    }
                case .failure(let error):
                    os_log("%{public}@", type: .default, error.localizedDescription)
                }
            }
        }
        (...)
    }
    ```
    </details>
    
</br>

ğŸ’¡ **í•´ê²°ë°©ë²•** <br>

- `ViewController`ê°€ ë³¸ë˜ì˜ ì±…ì„ë§Œì„ ë‹¤í•  ìˆ˜ ìˆë„ë¡ `BoxOfficeManager`ë¼ëŠ” íƒ€ì…ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.
    > ë³¸ë˜ `ViewController`ì˜ ì£¼ìš” ì±…ì„
    > - ì¼ë°˜ì ìœ¼ë¡œ ê¸°ì´ˆ ë°ì´í„°ì˜ ë³€ê²½ì— ëŒ€í•œ ì‘ë‹µìœ¼ë¡œ `ë·°ì˜ ì½˜í…ì¸ ë¥¼ ì—…ë°ì´íŠ¸`
    > - ë·°ì— ëŒ€í•œ `ì‚¬ìš©ì ìƒí˜¸ ì‘ìš©ì— ì‘ë‹µ`
    > - ë·° `í¬ê¸° ì¡°ì •` ë° ì „ì²´ ì¸í„°í˜ì´ìŠ¤ì˜ `ë ˆì´ì•„ì›ƒ ê´€ë¦¬`
    > - ì•±ì—ì„œ ë‹¤ë¥¸ ê°ì²´(ë‹¤ë¥¸ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ í¬í•¨)ì™€ ì¡°ì •

- ë”ë¶ˆì–´ ê° Managerë“¤ì´ í•˜ë‚˜ì˜ ì±…ì„ë§Œ ê°–ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
  - **NetworkManager**: `API`ë¥¼ í†µí•´ ìš”ì²­í•œ `Data`ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
  - **DecodingManager**: `Data`ë¥¼ `Swift`ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” íŠ¹ì • ë°ì´í„° íƒ€ì…ìœ¼ë¡œ `Decodeing`í•©ë‹ˆë‹¤.
  - **BoxOfficeManager**: BoxOffice ê´€ë ¨ ë°ì´í„° íƒ€ì…ìœ¼ë¡œ ë””ì½”ë”©ëœ `Data`ë¥¼ `Result` íƒ€ì…ìœ¼ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.
  - **ViewController**: `API`ì™€ì˜ í†µì‹  ë° `Decoding` ê³¼ì •ì„ ëª°ë¼ë„ ë˜ë©°, `BoxOfficeManager`ë¥¼ í†µí•´ ë°›ì€ `Data`ë¥¼ ê°€ì§€ê³  `View`ì— ì „ë‹¬í•˜ëŠ” ì—­í• ì— ì§‘ì¤‘í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.

   <details>
        <summary> ì½”ë“œ </summary>

    ```swift
    // BoxOfficeManager.swift
    final class BoxOfficeManager {
        (...)
        func fetchBoxOfficeData(completionHandler: @escaping (Result[BoxOfficeData]?, Error) -> Void) {
            let networkManager = NetworkManager()

            networkManager.fetchData(url: KobisOpenAPI.boxOffice(targetDate: targetDate.formatNoSeparator()).url) { (data, error) in
                do {
                    if let error = error {
                        completionHandler(.failure(error))

                        return
                    }

                    if let data = data {
                        let decodedData = try DecodingManager.decodeJSON(type: BoxOffice.self, data: data)
                        let boxOfficeItems = decodedData.boxOfficeResult.dailyBoxOfficeList
                        completionHandler(.success(boxOfficeItems))
                    }
                } catch {
                    completionHandler(.failure(error))
                }
            }
        }
    }
    ```
    ``` swift
    // BoxOfficeViewController.swift
    extension BoxOfficeViewController {
        private func loadData() {
            let boxOfficeManager = BoxOfficeManager(targetDate: yesterday)

            boxOfficeManager.fetchBoxOfficeData { result in
                switch result {
                case .success(let items):
                    guard let items = items else { return }
                    self.items = items
                    self.applySnapshot()
                    self.stopActivityIndicator()
                case .failure(let error):
                    os_log("%{public}@", type: .default, error.localizedDescription)
                }
            }
        }
    ```
   </details>

<br>

### 4ï¸âƒ£ ì…€ ì¬ì‚¬ìš©ìœ¼ë¡œ ì¸í•œ ë¬¸ì œ
ğŸš¨ **ë¬¸ì œì ** <br>
- ìƒˆë¡œê³ ì¹¨ ì‹œ `rankIntensityLabel`ì˜ `text` ìƒ‰ìƒì´ ë°”ë€ŒëŠ” ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.<br>

  <img src = "https://github.com/WhalesJin/FireSaturdayStudyClassC/assets/124643545/04a41bb7-cde0-4203-a56c-6e5219280fed" height = "500">

</br>

ğŸ’¡ **í•´ê²°ë°©ë²•** <br>
- ì…€ì´ **ì¬ì‚¬ìš©**ì´ ë˜ë©´ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œì„ì„ ì•Œê³ , `prepareForReuse` ë§¤ì„œë“œì—ì„œ `rankIntensityLabel`ì˜ `text` ìƒ‰ìƒì„ ì´ˆê¸°í™”í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.

    ```swift
    // BoxOfficeCell.swift
    override func prepareForReuse() {
        super.prepareForReuse()
        rankIntensityLabel.textColor = .black
    }
    ```
<br>

## ğŸ“š ì°¸ê³  ë§í¬<a id="ì°¸ê³ _ë§í¬"></a>

- [ğŸApple Docs: URLSession](https://developer.apple.com/documentation/foundation/urlsession)
- [ğŸApple Docs: Fetching Website Data into Memory](https://developer.apple.com/documentation/foundation/url_loading_system/fetching_website_data_into_memory)
- [ğŸApple Docs: Swift Closures - Capturing Values](https://docs.swift.org/swift-book/documentation/the-swift-programming-language/closures/)
- [ğŸApple Docs: UICollectionView](https://developer.apple.com/documentation/uikit/uicollectionview)
- [ğŸApple Docs: XCTAssertThrowsError](https://developer.apple.com/documentation/xctest/1500795-xctassertthrowserror)
- [ğŸWWDC: Modern cell configuration](https://developer.apple.com/videos/play/wwdc2020/10027/)
- [ğŸApple Docs: Implementing Modern Collection Views](https://developer.apple.com/documentation/uikit/views_and_controls/collection_views/implementing_modern_collection_views)
- [ğŸApple Docs: CollectionView Layout](https://developer.apple.com/documentation/uikit/views_and_controls/collection_views/layouts)
- [ğŸApple Docs: prepareforreuse](https://developer.apple.com/documentation/uikit/uicollectionreusableview/1620141-prepareforreuse)
- <Img src = "https://github.com/WhalesJin/ios-bank-manager/assets/124643545/d1df2d8a-6667-438d-9643-aab8a83a4754" width="20"/> [Alamofire](https://github.com/Alamofire/Alamofire/blob/master/Source/Alamofire.swift)
- <Img src = "https://github.com/WhalesJin/ios-bank-manager/assets/124643545/d1df2d8a-6667-438d-9643-aab8a83a4754" width="20"/> [Moya](https://github.com/Moya/Moya/tree/master/Sources/Moya)
- <Img src = "https://github.com/mint3382/ios-calculator-app/assets/124643545/56986ab4-dc23-4e29-bdda-f00ec1db809b" width="20"/> [ì•¼ê³°ë‹·ë„·: Test Double](https://yagom.net/courses/unit-test-ì‘ì„±í•˜ê¸°/lessons/í…ŒìŠ¤íŠ¸ë¥¼-ìœ„í•œ-ê°ì²´-ë§Œë“¤ê¸°/topic/í…ŒìŠ¤íŠ¸ë¥¼-ìœ„í•œ-ê°ì²´ë¥¼-ì´ìš©í•´ì„œ-í…ŒìŠ¤íŠ¸-ì‘ì„±í•˜ê¸°/)
- <Img src = "https://hackmd.io/_uploads/ByTEsGUv3.png" width="20"/> [blog: URL ì²˜ë¦¬ ë°©ë²•](https://ios-development.tistory.com/1014)

<br>
